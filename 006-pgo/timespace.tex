\chapter{Space and time\label{chap:timespace}}
Pokémon GO is played on a representation of the Earth's surface.
The game's horizon is sufficiently close that curvature of this two-manifold
 cannot be discerned, facilitating simple projection onto Euclidean mobile devices.
The Trainer is localized using the device's location services, which typically
 combine signals from GPS, WiFi radio, cellular radio, and sensors.
Flaky location services or networking will have a highly deleterious effect on your game,
 and substantial functionality is unavailable when moving at high speed\footnote{Common
 claims include 10.5 km/h and 15 km/h, but I've seen no evidence.}---in particular,
 Pokémon cannot usually be caught while ``speed locked''.

\section{Space\label{sec:world}}
The Map view always shows the Trainer.
It can be zoomed up to some limits; I \textit{highly} recommend keeping it
 maximally zoomed out most of the time (zoom in if you're having trouble
 distinguishing between proximate Map elements).
Real world surface elements are drawn, but do not affect Trainer movement
 (though they might have effects on spawns---\autoref{sec:spawns}).
The planet's surface is partitioned into S2 cells\footnote{None of this information has been confirmed, but it has solid evidence.}, a hierarchy (typically using
 quadtrees) of geodesic quadrilaterals (their boundaries are straight lines on the curved
 surface) numbered along a set of Hilbert curves (preserving spatial locality as index locality)\footnote{Octavian Propcopiuc's ``Geometry on the Sphere: Google's S2 Library''.}.
\begin{tipbox}[title=If that meant nothing to you…]
The world is carved into chunks. You can see the ones nearby.
\end{tipbox}
The smallest S2 cell thought to be used is level 20, with a maximum of ten meters to a side.
The center of such a cell is a potential spawn point \autoref{sec:spawns}, and there are over seven trillion level 20 cells.
Spawning seems influenced at least by Trainer activity and input from OpenStreetMap, but this is speculative at best.
A level 17 cell contains zero or one ``point of interest'' (Pokéstop, Power Stop, Gym),
 sourced from Niantic's \textit{Ingress} game and Wayfarer community.
Gyms are distributed among level 14 cells according to the number of contained points of interest (\autoref{table:pois}),
 and usually involve automatic conversion of a Pokéstop.
\begin{table}
\centering
\begin{tabular}{lr|lr}
Points of interest & Gyms & Points of interest & Gyms\\
\Midrule
1 & 0 & 6--19 & 2\\
2--5 & 1 & 20--34 & 3\\
\end{tabular}
\caption[Gym allocation in level 14 S2 cells]{Gym allocation in level 14 S2 cells (source: ``A Comprehensive Guide to S2 Cells and Pokémon GO'', Zeroghan 2024-03-07)\label{table:pois}}
\end{table}
A level 14 cell also seems capable of containing two Power Stops (note that Power Stops are not always visible).
 Weather (thought to be sourced from AccuWeather) seems a property of level 11 cells.
Pokémon are tagged with a capture location associated with level 10 cells.
Everything geographical in the game---the matrix of nearby Pokémon, the lists
 of raids and Max Battles, the rendered map, egg location---is based on some level of S2 cells.
\subsection{Regional Pokémon\label{subsec:regional}}
Certain Pokémon will typically spawn (\autoref{sec:spawns}) only in certain regions of the world (\autoref{table:regional}).
They might appear anywhere as Research encounters or due to Adventure Incense (\autoref{subsec:lures}),
 and events can of course change all the rules.
Eggs (\autoref{sec:eggs}) from gifts (including those from Mateo (\autoref{sec:routes})) will
 hatch Pokémon from their source region.
\begin{table}
\centering
\footnotesize
  \begin{tabular}{p{.5\textwidth}l}
Pokémon & Region \\
\Midrule
Farfetch'd & Eastern Asia\\
\rowcolor{Gray!25}
Kangaskhan & Australia\\
Mr. Mime, Mime Jr. & Europe\\
\rowcolor{Gray!25}
Tauros & North America\\
Blaze Breed Paldean Tauros, Solrock, East Sea Shellos, Red-striped Basculin, Stakataka & Eastern hemisphere\\
\rowcolor{Gray!25}
Heracross, Maractus & Eastern hemisphere south of \textasciitilde\ang{26}N\\
Aqua Breed Paldean Tauros, Lunatone, West Sea Shellos, Blue-striped Basculin, Blacephalon & Western hemisphere\\
\rowcolor{Gray!25}
Chatot, Celesteela & Southern hemisphere\\
Kartana & Northern hemisphere\\
\rowcolor{Gray!25}
Corsola & Tropic of Cancer through Tropic of Capricorn\\
Volbeat, Zangoose, Sawk, Heatmor & Europe, Asia, Australia\\
\rowcolor{Gray!25}
Illumise, Seviper, Throh, Durant & Americas, Africa\\
Torkoal & South Asia\\
\rowcolor{Gray!25}
Tropius & Africa, the Levant, Malta, southern Spain\\
Relicanth & UTC+13\\
\rowcolor{Gray!25}
Pachirisu & North Arctic\\
Uxie, Pansage, Blue Flabébé, Oricorio Sensu, Stretchy Tatsugiri & East Asia, the Pacific\\
\rowcolor{Gray!25}
Mesprit, Pansear, Red Flabébé, Oricorio Baile & EMEA, India\\
Curly Tatsugiri & EMEA, West Asia\\
\rowcolor{Gray!25}
Azelf, Panpour, Yellow Flabébé, Droopy Tatsugiri & Americas\\
Oricorio Pom-Pom & Americas excluding Caribbean islands\\
\rowcolor{Gray!25}
Oricorio Pa'u & African, Asian, Pacific, Caribbean islands\\
Sigilyph & Egypt, Greece\\
\rowcolor{Gray!25}
Combat Breed Paldean Tauros & Iberian peninsula\\
Klefki & France\\
\rowcolor{Gray!25}
Hawlucha & Mexico\\
Stonjourner & United Kingdom\\
\rowcolor{Gray!25}
Carnivine & Southeastern United States\\
Bouffalant & New York\\
\rowcolor{Gray!25}
Comfey & Hawaii\\
\end{tabular}
\caption{Region-exclusive Pokémon (locations are approximate)\label{table:regional}}
\end{table}
\subsection{Weather boosts\label{sec:weather}}
Local weather ``boosts'' associated types (\autoref{table:weather}),
  affecting attack strength in PvE (\autoref{sec:mbmult}),
  raid boss strength (\autoref{sec:raids}),
  spawn rates (\autoref{sec:spawns}) and the levels of those spawns,
  and catching (\autoref{sec:catch}).
The game's assessment of your weather is communicated via an icon on the Map View.
\begin{table}
\input{out/weather}
\end{table}
\section{Time\label{sec:timeline}}
Since late in 2000, Pokémon GO operates on scheduled ``Seasons'' of approximately ninety days.
Event themes tend to tie into the season.
The pools for wild spawns (\autoref{sec:spawns}), eggs (\autoref{sec:eggs}), raids, GBL awards,
 and research encounters see seasonal changes, though they are also subject to in-season events.
Seasons typically have bonuses applied through their duration.
GO Battle League standings are reset each season, and its reward pools change, but
 more significantly each season sees a number of changes to attacks (\autoref{chap:attacks}),
 and which Pokémon can learn them.

Within a season, there are events on scales from hours to weeks.
Every Tuesday from 1800h to 1900h local time is Spotlight Hour, with
 increased spawn rate for the featured Pokémon.
Legendary Raid Hour (Wednesdays at 1800h) puts a selected Legendary, Mythical,
 or Ultra Beast raid boss (\autoref{sec:regions}) in every gym for two
 twenty-five minute rotations.
Raid Days feature some Pokémon as a rapidly respawning raid boss for several hours,
 and usually provide multiple free raid passes.
Max Battle Days work similarly for Dynamax and Gigantamax Pokémon, and typically
 allow more access to (and storage of) Max Particles.
Each month sees a Community Day highlighting some Pokémon: for several hours,
 that Pokémon spawns copiously, can learn a special move without use of an
 Elite TM, and has an increased shiny rate (\autoref{sec:shiny}).
Recent seasons have seen GO Battle Weeks, where Trainers can play 20 sets
 per day rather than five, while enjoying a substantial Stardust award multiplier.
The annual GO Fest is a multicity extravaganza.
Introductions of new Pokémon usually have associated events.

Daily limits are based on calendar days, and honor the local timezone.
The timezone seems to be pulled from the device's time service, not via location\footnote{Manipulating
 the system clock is explicitly called out as cheating in the Community Ambassador FAQs.},
 while offset from the hour appears to be based on server receipt of messages.
Raids will generally be available beginning at 0500h, and end not long after 2100h.
Max Battles can only be fought between 0600h and 2100h local time,
 and these hours similarly constrain Team GO Rocket Leader takeover of Pokéstops.
Grunts take over Pokéstops at all hours, and Leaders can still be found
 in the balloon outside their normal shift.
Speaking of the balloon, it operates on four six-hour intervals, showing up once per interval.
It appears as soon as the game is open during each interval, and remains present for twenty minutes.

The Special Research ``A Troubling Situation'' brings Team GO Rocket into the game.
There are typically several Special Researches per year related to Team GO Rocket,
 but are unlocked only if there is no TGR-related research outstanding.
These researches are furthermore timelocked, and thus can be missed entirely.
Only during these researches can the charged attack ``Frustration'' typically be removed
 from a Shadow Pokémon (\autoref{sec:charged}, \autoref{sec:shadow}).
