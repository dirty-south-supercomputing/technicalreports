\chapter{Space and time\label{chap:timespace}}
Pokémon GO is played on a representation of the Earth's surface.
The game's horizon is sufficiently close that curvature of this two-manifold
 cannot be discerned, facilitating simple projection onto Euclidean mobile devices.
The Trainer is localized using the device's location services, which typically
 combine signals from GPS, WiFi radio, cellular radio, and sensors.
Flaky location services or networking will have a highly deleterious effect on your game,
 and substantial functionality is unavailable when moving at high speed\footnote{Common
 claims include 10.5 km/h and 15 km/h, but I've seen no evidence.}.

\section{The worldline of Pokémon GO\label{sec:world}}
The planet's surface is partitioned into S2 cells\footnote{None of this information has been confirmed, but it has solid evidence.}, a hierarchy (typically using
 quadtrees) of geodesic quadrilaterals (their boundaries are straight lines on the curved
 surface) numbered along a set of Hilbert curves (preserving spatial locality as index locality)\footnote{Octavian Propcopiuc's ``Geometry on the Sphere: Google's S2 Library''.}.
\begin{tipbox}[title=If that meant nothing to you…]
The world is carved into chunks. You can see the ones nearby.
\end{tipbox}
The smallest S2 cell thought to be used is level 20, with a maximum of ten meters to a side.
The center of such a cell is a potential spawn point \autoref{sec:spawns}, and there are over seven trillion level 20 cells.
Spawning seems at least influenced by Trainer activity and input from OpenStreetMap, but this is speculative at best.
A level 17 cell contains zero or one ``point of interest'' (Pokéstop, Power Stop, Gym),
 sourced from Niantic's \textit{Ingress} game and Wayfarer community.
Gyms are distributed among level 14 cells according to the number of contained points of interest (\autoref{table:pois}),
 and usually involve automatic conversion of a Pokéstop.
\begin{table}
\centering
\begin{tabular}{lr}
Points of interest & Gyms\\
\Midrule
1 & 0 \\
2--5 & 1\\
6--19 & 2\\
20--34 & 3\\
\end{tabular}
\caption[Gym allocation in level 14 S2 cells]{Gym allocation in level 14 S2 cells (source: ``A Comprehensive Guide to S2 Cells and Pokémon GO'', Zeroghan 2024-03-07)\label{table:pois}}
\end{table}
A level 14 cell also seems capable of containing two Power Stops (note that Power Stops are not always visible).
 Weather (thought to be sourced from AccuWeather) seems a property of level 11 cells.
Pokémon are tagged with a capture location associated with level 10 cells.
Everything geographical in the game---the matrix of nearby Pokémon, the lists
 of raids and Max Battles, the rendered map, egg location---is based on some level of S2 cells.
\subsection{Weather boosts\label{sec:weather}}
Local weather ``boosts'' associated types (\autoref{table:weather}),
  affecting attack strength in PvE (\autoref{sec:mbmult}),
  raid boss strength (\autoref{sec:raids}),
  spawn rates (\autoref{sec:spawns}) and the levels of those spawns,
  and catching (\autoref{sec:catch}).
The game's assessment of your weather is communicated via an icon on the Map View.
\begin{table}
\input{out/weather}
\end{table}
\section{The timeline of Pokémon GO\label{sec:timeline}}
Since late in 2000, Pokémon GO operates on scheduled ``Seasons'' of approximately ninety days.
Event themes tend to tie into the season.
The pools for wild spawns (\autoref{sec:spawns}), eggs (\autoref{sec:eggs}), raids, GBL awards,
 and research encounters see seasonal changes, though they are also subject to in-season events.
Seasons typically have bonuses applied through their duration.
GO Battle League standings are reset each season, and its reward pools change, but
 more significantly each season sees a number of changes to attacks (\autoref{chap:attacks}),
 and which Pokémon can learn them.

Within a season, there are events on scales from hours to weeks.
Every Tuesday from 1800h to 1900h local time is Spotlight Hour, with
 increased spawn rate for the featured Pokémon.
Legendary Raid Hour (Wednesdays at 1800h) puts a selected Legendary, Mythical,
 or Ultra Beast raid boss (\autoref{sec:regions}) in every gym for two
 twenty-five minute rotations.
Raid Days feature some Pokémon as a rapidly respawning raid boss for several hours,
 and usually provide multiple free raid passes.
Max Battle Days work similarly for Dynamax and Gigantamax Pokémon, and typically
 allow more access to (and storage of) Max Particles.
Each month sees a Community Day highlighting some Pokémon: for several hours,
 that Pokémon spawns copiously, can learn a special move without use of an
 Elite TM, and has an increased shiny rate (\autoref{sec:shiny}).
Recent seasons have seen GO Battle Weeks, where Trainers can play 20 sets
 per day rather than five, while enjoying a substantial Stardust award multiplier.
The annual GO Fest is a multicity extravaganza.
Introductions of new Pokémon usually have associated events.

Daily limits are based on calendar days, and honor the local timezone.
The timezone seems to be pulled from the device's time service, not via location\footnote{Manipulating
 the system clock is explicitly called out as cheating in the Community Ambassador FAQs.},
 while offset from the hour appears to be based on server receipt of messages.
