\chapter{Friends, buddies, and Mateo\label{chap:friends}}
For a game touted as bringing people together, Pokémon GO tries hard to elide social elements.
Aside from opt-in partners at local raids, there are no in-game means to discover other Trainers.
It is not generally possible to send messages.
Use of real names in Trainer handles is gently discouraged.
Despite this, a Trainer can have up to 450 other Trainers as ``friends''.
How can this capacity be exploited?

When two Trainers agree to friendship, they are assigned a friendship level of zero.
The friendship can progress through four levels, based on the number of calendar
  days the Trainers interact (\autoref{table:friendlevels}).
Reaching a new level awards XP to both Trainers, and the awards for levels 3 and 4 are very substantial.
Interaction can take the form of battling together, trading, a friendly 3x3 match (\autoref{sec:3x3}), or
  opening a gift sent by the other Trainer (\autoref{sec:gifts}).
Addition of and regular gift exchange with other Trainers, facilitated by online friend code parlors,
  is the fastest way to progress through levels.
In the words of Ferris Bueller, ``it's a little silly and childish, but then again, so is [Pokémon GO].''
Damage is enhanced when battling with friends, and winning together
  makes more Premier balls available (these bonuses do not stack).
Higher friendship levels provide large discounts to trades.
\begin{table}
\centering
\begin{tabular}{lrrrr}
Bonus & Good & Great & Ultra & Best\\
\Midrule
Days & 1 & 7 & 30 & 60\\
XP  & 3,000 & 10,000 & 50,000 & 100,000\\
XP/friend-day & 3,000 & 1,857 & 2,100 & 1,811\\
Damage bonus & 3\% & 5\% & 7\% & 10\%\\
Ball bonus & 0 & 1 & 2 & 4\\
Trade discount & 0\% & 20\% & 92\% & 96\% \\
\end{tabular}
  \caption{Friendship levels and resulting bonuses\label{table:friendlevels}}
\end{table}

\section{Gifts\label{sec:gifts}}
Up to 100 gifts can be acquired from Pokéstops each calendar day.
So long as neither this daily limit nor the maximum capacity of twenty gifts
 is exceeded, spinnning a Pokéstop always provides a gift.
Buddy Pokémon can provide up to fifteen gifts per day,
  and the Trainer can open up to twenty.
Together, a Trainer can maintain a daily flow of 135 gifts.
If these are all exchanged with new friends, they represent 405,000 XP generated every day.
This would be rather tedious and impersonal; I don't recommend it.
Instead, if you want to quickly gain levels, regularly add a few dozen Trainers.
Take them through at least the Ultra Friend level.
While this falls short of the maximum XP per day, it's much less work, and facilitates use of Lucky Eggs.
You're going to be swimming in items either way.

Remember, only one Trainer needs open a gift to count that calendar day.
Unless I need the items, I try to open my twenty gifts late in the evening,
  preferring Trainers who didn't interact with me that day.
When browsing your list of friends, Trainers with a blue halo have already interacted with you:
  opening their gift will not advance the friendship state.

\begin{tipbox}[title=A tip regarding gift UI]
Pressing the ⓧ  element immediately after pressing ``Open Gift'' or ``Send Gift''
 skips the animation without affecting function.
\end{tipbox}

\section{Parties\label{sec:parties}}
Trainers can play as a party, with party-specific challenges and rewards.
They need not be friends, but will require a code and relative proximity.
Any Trainer can create a party, but at least two Trainers must be involved to engage in party play.
A party can have up to four Trainers, and can last up to three hours.
New trainers can replace departures, but the party is dissolved if all other Trainers leave.
Trainers cannot take over a party or form a splinter faction; departure of the host will
  require remaining Trainers to create a new party, and lose any progress.
While party play is active, the other Trainers (and their Buddy Pokémon, if any)
  will be visible on one another's Maps.
When raiding in a party, a Party Power gauge fills, charged by each fast attack used.
When full, charged attacks deal double damage.

\section{Trading\label{sec:trades}}
Trainers who share both friendship and spatial proximity can trade Pokémon.
Trades always exchange a single Pokémon for one other.
Trades reroll IVs (\autoref{sec:ivs}) with a floor based on friendship level (\autoref{table:ivfloors}),
  and reduce level if necessary for the receiving Trainer\footnote{As noted earlier, the level is
  the receiving Trainer's level plus two, or plus five if the Pokémon was captured with weather boost.
  Weather at the time of the trade has no effect.}.
Level is otherwise unchanged, as are shininess, size, battles won, nickname, and attacks.
A Pokémon can be traded only once across its lifetime.
Interactions with Best Friends can sometimes make them ``lucky'', guaranteeing that the next trade with
  them will result in Lucky Pokémon (\autoref{sec:lucky}).
A Lucky Trinket applied to a Great Friend who is not currently a Lucky Friend makes them
 a Lucky Friend immediately.
Trading a Pokémon results in Candy of the \textit{departing} Pokémon's family,
  and possibly Candy XL\@.
The chance of Candy XL depends on how far apart the Pokémon were captured.
A Trainer cannot typically make more than 100 trades per calendar day, nor more
 than a single Special Trade.

All trades have a cost in Stardust (\autoref{table:tradecosts}).
``Special'' trades are those involving Legendary, Mythical, Ultra Beast (\autoref{sec:regions}),
  Shiny, Purified, or Gigantamax (\autoref{sec:dmaxgmax}) Pokémon.
If either Pokémon qualifies, the trade is Special.
Forms (\autoref{sec:forms}) present in the receiving Trainer's Pokédex are
  ``registered trades'', and can be made at the bargain price of 100 Stardust
  (both Pokémon must be registered).
If a Pokémon cannot be transferred to the Professor, it can't be traded.
Shadow Pokémon, current Buddy Pokémon, Pokémon defending gyms or Power Stops, and Pokémon
 in Mega, Primal, Fused, or Crowned forms (\autoref{chap:species}) are also excluded from trading.
Traded Pokémon cannot be fainted, and must have full health.
A few Pokémon can be evolved at no cost if they have been traded (\autoref{table:tradeevolution}).
\begin{table}
\centering
\begin{tabular}{lrrrr}
Type & Good & Great & Ultra & Best\\
\Midrule
Registered & 100 & 100 & 100 & 100\\
Unregistered, reg.\ Special & 20,000 & 16,000 & 1,600 & 800\\
Unregistered Special & 1,000,000 & 800,000 & 80,000 & 40,000\\
\end{tabular}
\caption{Trade costs in Stardust\label{table:tradecosts}}
\end{table}

A non-obvious application of trading is the ``mirror trade'', where the
 two Pokémon exchanged are of the same form, generating large amounts
 of the relevant Candy while rerolling the IV of each Trainer's Pokémon.
This can take advantage of a high IV floor in the quest for higher IVs, or
 a low IV floor to reduce the naturally high IVs from upper tier raids\footnote{Why might this be desirable? See \autoref{chap:bounded}.}.
This technique is particularly apt for Legendaries caught outside of raids,
 such as the Galarian Birds.

\section{Buddy Pokémon\label{sec:buddies}}
Any Pokémon neither defending a gym nor posted at a Power Stop can be designated your Buddy Pokémon.
Once so designated, it cannot be left at gyms or Power Stops, and cannot be transferred,
  until replaced by another Pokémon.
A Trainer's Buddy may be swapped twenty times per calendar day.
It is not possible to return to a Buddyless state after designating a Buddy Pokémon.
If fed three berries or a Poffin, the Pokémon will become ``active'',
  joining its Trainer on the map and becoming visible to any party members.
Three berries result in three hours of activation; a Poffin leads to six.
Like the friends system, interactions with a Buddy contribute to a Buddy level (\autoref{table:buddy}).
Interactions are indicated with hearts.
Walking will cause the Buddy to regularly find Candy; it might also find Candy XL
  and/or Mega Energy (\autoref{table:costs}).
It needn't be active to do this.
Feeding your Buddy a Poffin cuts the walking distance in half.
\begin{table}
\centering
\begin{tabular}{lrl}
Level & Hearts & Perks\\
\Midrule
Good & 1 & Adventuring Buddy, Readable Mood\\
Great & 70 & Catch Assist, Finding Presents\\
Ultra & 150 & Finding Souvenirs, Finding Locations\\
Best & 300 & \CPM{} boost, Ribbon\\
\end{tabular}
\caption{Buddy level requirements and perks\label{table:buddy}}
\end{table}
The \CPM{} boost only applies while the Pokémon is designated Buddy,
  and is worth two halflevels (\autoref{sec:cpm}).
A level 20.5 Best Buddy will thus enjoy \Eff{A}, \Eff{D}, and \Eff{S} values
  as if it were level 21.5 (\autoref{sec:effectivestats}).
This holds true even at levels 49.5 and 50: the CPMs for these unattainable
  pseudolevels 50.5 and 51 are 0.8428 and 0.8453.
This boost \textit{is} carried into League 3x3 play (\autoref{subsec:league}),
  and counts against any \CP{} bound.

\section{Routes}
Routes are named paths connecting two Pokéstops or Gyms.
Any Trainer of level 30 or higher can submit a route; if approved, it becomes available to all Trainers.
Walking the route requires proximity to the starting point and ending point; between those two,
 it is not necessary to hew overly closely to the path.
If you leave the route too long, it will be paused, and resuming it will require returning to the precise
 point where it was paused\footnote{If you think you're at the start, resume, or end point, and the game isn't picking
 up on it, restarting the app can help.}
Routes have their own additional spawn points, and can thus lead to more encounters.
At a route's end, you'll find Mateo the roadbuilder.
He'll offer to exchange a gift with you; this will not involve a gift from your inventory.
The gift you receive will have a random postcard, and counts towards Vivillon goals (\autoref{subsec:vivillon}).
If you have space, the gift might contain a 7 km egg.
Once a gift has been exchanged with Mateo, he won't show up again until the next calendar day.
Like gyms, each route has an associated badge, and completing the route develops the badge.
In addition to regular Pokéstop items, walking a route can award Rare Candy, Rare Candy XL,
 Golden Razz Berries, Fast TMs, and even Elite Fast TMs.
A Buddy Pokémon can earn one heart per calendar day by being present when a route is completed.
